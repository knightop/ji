(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),s=a.n(l),c=a(6),o=a(5),i=(a(33),a(34),a(7)),m=a.n(i),u=a(10),d=a(11),h=a(12),p=a(15),y=a(13),f=a(16),E=a(9),b=function(){return r.a.createElement("p",{className:"my3 p2 h3 center rounded bg-red white"},r.a.createElement("strong",null,"Uh-oh!")," Something went wrong. Please try again in a few moments.")},g=function(){return r.a.createElement("footer",{className:"mt3 pt2 h5 border-top border-light border-width-2"},r.a.createElement("a",{href:"https://twitter.com/brensudol",className:"mr2"},"Made by Rajdeep"),r.a.createElement("a",{href:"https://github.com/brendansudol/late-night-jokes",className:"mr2"},"Code on GitHub"),r.a.createElement("a",{href:"mailto:brendansudol@gmail.com?Subject=Late%20Night%20Joke%20Library",className:"mr2"},"Send feedback"))},v=function(e){var t=e.className,a=void 0===t?"":t,n=e.width;return r.a.createElement("div",{className:"skeleton-line ".concat(a),style:{width:n}})},N=a(14),k=a(17),j=function(e){return e.slice(1).split("&").filter(function(e){return e.length}).reduce(function(e,t){var a=t.split("="),n=Object(k.a)(a,2),r=n[0],l=n[1],s=void 0===l?null:decodeURIComponent(l);return Object.assign(e,Object(N.a)({},r,s))},{})},x=function(e){return Object.entries(e).filter(function(e){var t=Object(k.a)(e,2);t[0];return""!==t[1]}).map(function(e){var t=Object(k.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(encodeURIComponent(n))}).join("&")},w="https://late-night-jokes-api.herokuapp.com",S=["Trump","NFL","Pope","Facebook"],C=[{id:"",display:"All hosts"},{id:"conan",display:"Conan O'Brien"},{id:"ferguson",display:"Craig Ferguson"},{id:"letterman",display:"David Letterman"},{id:"corden",display:"James Corden"},{id:"leno",display:"Jay Leno"},{id:"fallon",display:"Jimmy Fallon"},{id:"kimmel",display:"Jimmy Kimmel"},{id:"meyers",display:"Seth Meyers"},{id:"colbert",display:"Stephen Colbert"}],L=[{id:"",display:"All years"},{id:"2009",display:"2009"},{id:"2010",display:"2010"},{id:"2011",display:"2011"},{id:"2012",display:"2012"},{id:"2013",display:"2013"},{id:"2014",display:"2014"},{id:"2015",display:"2015"},{id:"2016",display:"2016"},{id:"2017",display:"2017"},{id:"2018",display:"2018"}],O=[{id:"",display:"Random"},{id:"length",display:"Joke length"},{id:"-date",display:"New to old"},{id:"date",display:"Old to new"},{id:"host",display:"Host (A to Z)"}],q={host:C,year:L,order:O},J=function(e,t){var a=q[e];return a&&a.find(function(e){return e.id===t})?t:a[0].id},D=function(e){return new Promise(function(t){return setTimeout(t,e)})},Q=function(){return r.a.createElement("div",{className:"my3 pl2 py2 result result-loading"},r.a.createElement("div",{className:"mb3"},r.a.createElement(v,{className:"mb1 h2",width:"80%"}),r.a.createElement(v,{className:"mb1 h2",width:"90%"}),r.a.createElement(v,{className:"mb1 h2",width:"70%"})),r.a.createElement("div",{className:"flex"},r.a.createElement(v,{className:"h3 mr2",width:80}),r.a.createElement(v,{className:"h3",width:80})))},U=function(e){var t=e.joke;return r.a.createElement("div",{className:"my3 pl2 py2 result"},r.a.createElement("div",{className:"mb2 h3 sm-h2 measure"},t.text),r.a.createElement("div",null,t.host,r.a.createElement("span",{className:"px1"},"/"),t.date))},A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).fetchData=Object(u.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({idx:0,jokes:[],isLoading:!0,hasError:!1}),e.prev=1,e.next=4,D(1e3);case 4:return e.next=6,fetch("".concat(w,"/random"));case 6:return t=e.sent,e.next=9,t.json();case 9:n=e.sent,a.setState({jokes:n.results,isLoading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Uh-oh! Something goofed up",e.t0),a.setState({isLoading:!1,hasError:!0});case 17:case"end":return e.stop()}},e,null,[[1,13]])})),a.refresh=function(){var e=a.state;if(e.idx+1===e.jokes.length)return a.fetchData();a.setState(function(e){return{idx:e.idx+1}})},a.state={idx:0,jokes:[],isLoading:!1,hasError:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.jokes,a=e.isLoading,n=e.hasError;return r.a.createElement("div",{className:"app container-small mx-auto p2 sm-py3"},r.a.createElement("main",{className:"app-content"},r.a.createElement(c.b,{to:"/"},"\u2039 Back to search"),r.a.createElement("div",{className:"mt1 sm-flex items-baseline justify-between"},r.a.createElement("h2",{className:"mt0 mb1 sm-mb0 h2 sm-h1"},"Late Night Comedy Library"),r.a.createElement("button",{className:"btn btn-primary btn-small flex items-center",onClick:this.refresh,disabled:a||n||null==t},r.a.createElement(E.b,{className:"mr1"}),r.a.createElement("span",null,"Random Joke"))),null!=t&&this.renderContent()),r.a.createElement(g,null))}},{key:"renderContent",value:function(){var e=this.state,t=e.idx,a=e.jokes,n=e.isLoading,l=e.hasError;return n?r.a.createElement(Q,null):l||0===a.length||null==a[t]?r.a.createElement(b,null):r.a.createElement(U,{joke:a[t]})}}]),t}(n.Component),R=function(e){return encodeURIComponent(e)},F=function(){return r.a.createElement("header",{className:"mb2 flex"},r.a.createElement("div",{className:"flex-auto"},r.a.createElement("h1",{className:"m0 h2 sm-h1"},r.a.createElement("a",{href:"/",className:"text-decoration-none"},"Late Night Comedy Library")),r.a.createElement("p",{className:"m0 h4 sm-h3 line-height-1"},"Explore 10+ years of monologue jokes")),r.a.createElement("div",{className:"flex flex-column justify-end right-align xs-hide"},r.a.createElement("div",{className:"line-height-1"},r.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=".concat(R("Explore 35k+ monologue jokes from 10+ years of late night."),"&url=").concat(R("https://latenightlol.com")),rel:"noopener noreferrer",target:"_blank"},r.a.createElement(E.c,{className:"ml1"})),r.a.createElement("a",{href:"https://www.facebook.com/sharer.php?u=".concat(R("https://latenightlol.com")),rel:"noopener noreferrer",target:"_blank"},r.a.createElement(E.a,{className:"ml1"}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/random"},"Get random joke"))))},I=function(e){var t=e.onSubmit,a=e.onQueryChange,n=e.onSelectChange,l=e.isLoading,s=e.query,c=e.host,o=e.year;return r.a.createElement("form",{className:"mb2 p2 sm-p3 bg-light rounded sm-flex justify-between",onSubmit:t},r.a.createElement("div",{className:"flex sm-col-6 mb2 sm-m0"},r.a.createElement("input",{className:"input m0 rounded-left",type:"search",name:"query",placeholder:"Search...",value:s,onChange:a,required:!0}),r.a.createElement("button",{className:"btn btn-primary rounded-right",type:"submit",disabled:l},"Go")),r.a.createElement("div",{className:"flex sm-col-5 mxn1 h5"},r.a.createElement("select",{className:"select mx1 my0 col-7",name:"host",value:c,onChange:n},C.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})),r.a.createElement("select",{className:"select mx1 my0 col-5",name:"year",value:o,onChange:n},L.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.display)}))))},M=function(e){var t=e.onSuggestionClick;return r.a.createElement("div",{className:"py1"},r.a.createElement("span",{className:"mr1"},"A few suggestions to get you started:"),S.map(function(e){return r.a.createElement("a",{key:e,className:"mr1 bold",href:"#!",onClick:t(e)},e)}))},B=a(27),G=function(e){var t=e.entries,a=void 0===t?50:t;return r.a.createElement("div",null,r.a.createElement("div",{className:"mb2 flex items-center justify-between"},r.a.createElement(v,{width:70}),r.a.createElement(v,{className:"h2",width:100})),Object(B.a)(Array(a)).map(function(e,t){return r.a.createElement("div",{key:t,className:"mb3 pl2 py2 result result-loading"},r.a.createElement("div",{className:"mb2"},r.a.createElement(v,{className:"mb1 h3",width:"60%"}),r.a.createElement(v,{className:"mb1 h3",width:"80%"})),r.a.createElement(v,{className:"h5",width:"30%"}))}))},P=function(e){var t=e.query;return r.a.createElement("p",{className:"my3 p2 h3 center rounded no-results"},r.a.createElement("strong",null,"Sorry!")," We couldn't find any results for ",r.a.createElement("em",null,t),".")},H=function(e){var t,a=e.jokes,n=e.order,l=e.onSelectChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"mb2 flex items-center justify-between"},r.a.createElement("h5",{className:"m0"},(t=a.length,"".concat(t).concat(500===t?"+":""," result").concat(1!==t?"s":""))),r.a.createElement("div",{className:"flex items-center justify-center"},r.a.createElement("h5",{className:"m0 pr1 flex-none"},"Sort by:"),r.a.createElement("select",{className:"m0 select select-skinny h5",name:"order",value:n,onChange:l},O.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.display)})))),a.map(function(e){return r.a.createElement("div",{key:e.id,className:"mb3 pl2 py2 result"},r.a.createElement("div",{className:"mb2"},e.text),r.a.createElement("div",{className:"h5"},e.host,r.a.createElement("span",{className:"px1"},"/"),e.date))}))},T=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).handleQueryChange=function(e){var t=e.target.value;a.setState({query:t})},a.handleSelectChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r),a.fetchJokes)},a.handleSuggestionClick=function(e){return function(t){t.preventDefault(),a.setState({query:e},a.fetchJokes)}},a.handleSubmit=function(e){e.preventDefault(),a.fetchJokes()},a.fetchJokes=Object(u.a)(m.a.mark(function e(){var t,n,r,l,s,c,o,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.updateUrl(),t=a.state,n=t.query,r=t.host,l=t.year,s=t.order,n){e.next=4;break}return e.abrupt("return");case 4:return a.setState({jokes:[],isLoading:!0,hasError:!1,lastSearchedQuery:n}),e.prev=5,c=x({query:n,host:r,year:l,order:s}),e.next=9,fetch("".concat(w,"?").concat(c));case 9:return o=e.sent,e.next=12,o.json();case 12:i=e.sent,a.setState({jokes:i.results,isLoading:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Uh-oh! Something goofed up",e.t0),a.setState({isLoading:!1,hasError:!0});case 20:case"end":return e.stop()}},e,null,[[5,16]])})),a.updateUrl=function(){var e=a.props,t=e.location,n=e.history,r=a.state,l=r.query,s=r.host,c=r.year,o=r.order,i=x({query:l,host:s,year:c,order:o}),m="?".concat(i);i.length>0&&m!==t.search&&n.push("?".concat(i))},a.renderContent=function(){var e=a.state,t=e.jokes,n=e.order,l=e.lastSearchedQuery,s=e.isLoading,c=e.hasError;return 0===t.length?s?r.a.createElement(G,null):c?r.a.createElement(b,null):r.a.createElement(P,{query:l}):r.a.createElement(H,{jokes:t,order:n,onSelectChange:a.handleSelectChange})};var n=j(e.location.search);return a.state={jokes:null,isLoading:!1,hasError:!1,lastSearchedQuery:null,query:n.query||"",host:J("host",n.host),year:J("year",n.year),order:J("order",n.order)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchJokes()}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.host,n=e.year,l=e.jokes,s=e.isLoading,c=e.lastSearchedQuery;return r.a.createElement("div",{className:"app container mx-auto p2 sm-py3"},r.a.createElement(F,null),r.a.createElement("main",{className:"app-content"},r.a.createElement(I,{query:t,host:a,year:n,isLoading:s,onSubmit:this.handleSubmit,onQueryChange:this.handleQueryChange,onSelectChange:this.handleSelectChange}),null==c&&r.a.createElement(M,{onSuggestionClick:this.handleSuggestionClick}),null!=l&&this.renderContent()),r.a.createElement(g,null))}}]),t}(n.Component);s.a.render(r.a.createElement(function(){return r.a.createElement(c.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:T}),r.a.createElement(o.a,{exact:!0,path:"/random",component:A})))},null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.018c54e1.chunk.js.map
